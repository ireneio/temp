<% if (hasCustomTest) { -%>
import _<%= eventName %> from '../<%= eventName %>';

<% } else { -%>
import React from 'react';
import { mount } from 'enzyme';

import <%= displayName %> from '<%= (displayName[0].toLowerCase() + displayName.slice(1)) %>';
<% } -%>
import Context from 'context';
import contextProps from 'tool/contextProps';
import * as contextFunc from 'tool/contextFunc';

<% if (hasCustomTestData) { -%>
import custTestData from '../testData';
<% } -%>

const data = <%- JSON.stringify(testProps) %>;

jest.useFakeTimers();

console.error = jest
  .fn((error) => { throw new Error(error); });

describe('<%= displayName %>', () => {
<% if (hasCustomTestData) { -%>
  [...data, ...custTestData].forEach(async componentProps => new Promise(resolve => {
<% } else { -%>
  data.forEach(async componentProps => new Promise(resolve => {
<% } -%>
<% if (hasCustomTest) { -%>
    _<%= eventName %>(Context, {
      ...contextProps,
      ...contextFunc,
    }, componentProps);
<% } else { -%>
<%- include(eventName, { componentPaths, mockData }) -%>
<% } -%>
    afterAll(() => resolve());
  }));
});
